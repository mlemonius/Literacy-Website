(this["webpackJsonpliteracy-website"]=this["webpackJsonpliteracy-website"]||[]).push([[0],{108:function(e,t){},109:function(e,t,a){},137:function(e,t,a){},160:function(e,t,a){},164:function(e,t,a){},165:function(e,t,a){},166:function(e,t,a){},167:function(e,t,a){},168:function(e,t,a){},169:function(e,t,a){},170:function(e,t,a){},171:function(e,t,a){},197:function(e,t){},198:function(e,t){},199:function(e,t){},200:function(e,t){},201:function(e,t){},202:function(e,t,a){},208:function(e,t,a){},209:function(e,t,a){},211:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a(0),r=a.n(s),i=a(18),c=a.n(i),o=(a(137),a(24)),l=a(13),d=a(14),u=a(16),h=a(15),j=a(239),p=a(62),b=(a(82),function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={},e}return Object(d.a)(a,[{key:"render",value:function(){return Object(n.jsx)("div",{className:"Info-block",children:Object(n.jsxs)(j.a,{className:"header-container",children:[Object(n.jsx)("h1",{className:"page-title",style:{color:"#434343"},children:"Literacy Website"}),Object(n.jsx)(p.a,{color:"textSecondary",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."})]})})}}]),a}(s.Component)),O=a(116),g=a.n(O),m=a(27),f=a(20),x=a(19),v=a.n(x),y=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).componentDidMount=function(){e.authenticate(),setInterval((function(){return e.authenticate()}),6e5)},e.authenticate=function(){v.a.get("/server/user/authenticate").then((function(t){"success"===t.data.message||e.props.history.push("/login")}))},e}return Object(d.a)(a,[{key:"render",value:function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(f.a,{children:Object(n.jsx)("title",{children:"ReadPal | Sign Up"})}),Object(n.jsxs)("div",{className:"LandingDiv",children:[Object(n.jsx)(b,{}),Object(n.jsx)("div",{style:{margin:40,marginBottom:5,textAlign:"center"},children:Object(n.jsx)(g.a,{})}),Object(n.jsx)("div",{className:"landing-page-login",children:Object(n.jsx)(m.b,{to:"/login",children:Object(n.jsx)("button",{className:"landing-page-button",children:"Login/Signup"})})})]})]})}}]),a}(s.Component),C=a(260),S=a(244),w=a(245),P=a(246),N=a(247),k=a(248),I=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={open:!1},e.handleClickOpen=function(){e.setState({open:!0})},e.handleClose=function(){e.setState({open:!1})},e.handleSubmit=function(){e.props.valid?e.props.handleLogin():e.handleClickOpen()},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return Object(n.jsx)("section",{className:"login",children:Object(n.jsxs)("div",{className:"loginContainer",style:{marginTop:"10%"},children:[Object(n.jsx)("h1",{children:"Log In"}),Object(n.jsx)("label",{children:"Email"}),Object(n.jsx)("input",{type:"text",autoFocus:!0,required:!0,value:this.props.email,onChange:function(t){return e.props.setEmail(t.target.value)}}),Object(n.jsx)("label",{children:"Password"}),Object(n.jsx)("input",{type:"password",required:!0,value:this.props.password,onChange:function(t){return e.props.setPassword(t.target.value)}}),Object(n.jsx)("p",{}),Object(n.jsx)(m.b,{to:"/forgot-password",children:"Forgot your password?"}),Object(n.jsxs)("div",{className:"btnContainer",children:[Object(n.jsx)("button",{onClick:this.handleSubmit,children:"Log In"}),Object(n.jsxs)("p",{children:["Not a Member yet?",Object(n.jsx)("span",{children:Object(n.jsx)(m.b,{to:"/email-confirmation",children:"Sign Up"})})]})]}),Object(n.jsxs)(C.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(n.jsx)(S.a,{id:"alert-dialog-title",children:"Forget anything?"}),Object(n.jsx)(w.a,{children:Object(n.jsx)(P.a,{id:"alert-dialog-description",children:"Please fill in all the required fields."})}),Object(n.jsx)(N.a,{children:Object(n.jsx)(k.a,{onClick:this.handleClose,color:"primary",autoFocus:!0,children:"Absolutely!"})})]})]})})}}]),a}(s.Component),A=(a(160),a(41)),E=a.n(A),T=function(e,t){return{type:"LOGIN",payload:{userID:e,email:t}}},L=function(e,t){return{type:"SIGNUP",payload:{userID:e,email:t}}},F=function(){return{type:"LOGOUT"}},D=function(e){return{type:"SETEMAIL",payload:e}},R=function(e,t,a,n){return{type:"SETNEWPROFILE",payload:{id:e,color:t,animal:a,age:n}}},q=function(e){return{type:"SETPROFILES",payload:e}},z=function(e){return{type:"SETCURRENTPROFILE",payload:e}},W=function(e,t){return{type:"SETACTIVESTORY",payload:{id:e,title:t}}},B=a(30),U=a(29),G=a(249),M=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={userID:e.props.cookies.get("userID")||"",email:"",password:"",valid:!1},e.setEmail=function(t){e.validateEmail(t)?e.setState({email:t,valid:!0}):e.setState({email:t,valid:!1})},e.setPassword=function(t){""!==t&&e.validateEmail(e.state.email)?e.setState({password:t,valid:!0}):e.setState({password:t,valid:!1})},e.clearInputs=function(){e.setState({email:"",password:""})},e.validateEmail=function(){return!!/^[a-zA-Z0-9\.]+@(?:[a-zA-Z0-9]+\.)+[A-Za-z0-9]+$/.test(e.state.email)},e.validatePassword=function(e){return e.length>0},e.componentDidMount=function(){v.a.get("/server/user/authenticate").then((function(t){"success"===t.data.message&&e.props.history.push("/profile")}))},e.handleLogin=function(){v()({method:"post",url:"/server/user/login",data:E.a.stringify({username:e.state.email,password:e.state.password}),headers:{"content-type":"application/x-www-form-urlencoded;charset=utf-8"}}).then((function(t){console.log(t.headers),200===t.status&&"success"===t.data.message&&(e.props.login(t.data.userID,e.state.email),e.props.cookies.set("userID",t.data.userID,{path:"/",maxAge:86400}),e.props.history.push("/profile"))}))},e.setValid=function(t){e.setState({valid:t})},e.handleLogout=function(){v.a.post("",{}).then((function(e){})),e.props.cookies.remove("userID"),console.log("Log out")},e}return Object(d.a)(a,[{key:"render",value:function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(f.a,{children:Object(n.jsx)("title",{children:"ReadPal | Login"})}),Object(n.jsx)("div",{className:"LoginPage",children:Object(n.jsx)(I,{email:this.state.email,setEmail:this.setEmail,password:this.state.password,setPassword:this.setPassword,handleLogin:this.handleLogin,validateEmail:this.validateEmail,valid:this.state.valid,setValid:this.setValid})})]})}}]),a}(s.Component),Q=Object(B.b)((function(e){return{userID:e.userInfo.userID}}),(function(e){return Object(U.a)({login:T},e)}))(Object(G.a)(M)),Z=a(47),H=a(250),V=a(259),Y=(a(164),function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={question1:!1,question2:!1,valid:!1,open:!1},e.componentDidUpdate=function(t,a){!1===a.valid&&e.state.question1&&e.state.question2&&e.setState({valid:!0})},e.handleClickOpen=function(){e.setState({open:!0})},e.handleClose=function(){e.setState({open:!1})},e.handleQuestion1=function(){e.setState({question1:!e.state.question1})},e.handleQuestion2=function(){e.setState({question2:!e.state.question2})},e.handleSubmit=function(){if(e.state.valid)return e.props.setAsked(!0),e.props.history.push("/signup");e.handleClickOpen()},e}return Object(d.a)(a,[{key:"render",value:function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(f.a,{children:Object(n.jsx)("title",{children:"ReadPal | Sign up Security Check"})}),Object(n.jsxs)("div",{className:"sec-checkup-container",style:{margin:20,padding:10},children:[Object(n.jsx)(p.a,{className:"sec-checkup-header",children:"Sign up Security Check"}),Object(n.jsx)("form",{children:Object(n.jsxs)(H.a,{container:!0,style:{paddingTop:15},children:[Object(n.jsxs)(H.a,{item:!0,xs:12,style:{paddingBottom:10,margin:30,fontSize:30},children:["I have a child between 7 - 9 years of age who is interested in ReadPal",Object(n.jsx)(V.a,{required:!0,checked:this.state.question1,color:"primary",onChange:this.handleQuestion1})]}),Object(n.jsxs)(H.a,{item:!0,xs:12,style:{paddingBottom:30,margin:30,fontSize:30},children:["I am the parent, legal guardian or educational organization of that child",Object(n.jsx)(V.a,{required:!0,checked:this.state.question2,color:"primary",onChange:this.handleQuestion2})]})]})}),Object(n.jsx)("button",{onClick:this.handleSubmit,id:"proceed-btn",children:"Proceed"}),Object(n.jsxs)(C.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(n.jsx)(S.a,{id:"alert-dialog-title",children:"Forget anything?"}),Object(n.jsx)(w.a,{children:Object(n.jsx)(P.a,{id:"alert-dialog-description",children:"Please Answer All The Questions!"})}),Object(n.jsx)(N.a,{children:Object(n.jsx)(k.a,{onClick:this.handleClose,color:"primary",autoFocus:!0,children:"Absolutely!"})})]})]})]})}}]),a}(s.Component)),J=Object(o.g)(Y),_=a(118),$=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return Object(n.jsx)("section",{className:"signup",children:Object(n.jsxs)("div",{className:"signupContainer",style:{marginTop:"10%"},children:[Object(n.jsx)("h1",{children:"Sign Up"}),Object(n.jsx)("label",{children:"Enter the OTP code we sent you via email"}),Object(n.jsx)("input",{type:"text",autoFocus:!0,required:!0,placeholder:"6 digit code",value:this.props.otp,onChange:function(t){return e.props.setOtp(t.target.value)}}),Object(n.jsx)("label",{children:"Password"}),Object(n.jsx)("input",{type:"password",required:!0,value:this.props.password,onChange:function(t){return e.props.setPassword(t.target.value)}}),Object(n.jsx)("label",{children:"First Name"}),Object(n.jsx)("input",{type:"text",autoFocus:!0,required:!0,value:this.props.firstname,onChange:function(t){return e.props.setFirstname(t.target.value)}}),Object(n.jsx)("label",{children:"Last Name"}),Object(n.jsx)("input",{type:"text",required:!0,value:this.props.lastname,onChange:function(t){return e.props.setLastname(t.target.value)}}),Object(n.jsx)("label",{children:"Organization"}),Object(n.jsx)("input",{type:"text",placeholder:"optional",value:this.props.organization,onChange:function(t){return e.props.setOrganization(t.target.value)}}),Object(n.jsx)("label",{children:"Country"}),Object(n.jsx)(_.a,{id:"country-dropdown",value:this.props.country,onChange:function(t){return e.props.setCountry(t)}}),Object(n.jsxs)("div",{children:[Object(n.jsx)("p",{style:{fontSize:22,display:"inline-block"},children:"I agree to the terms of services"}),Object(n.jsx)(V.a,{required:!0,checked:this.props.checked,color:"primary",onChange:function(){return e.props.setChecked(!e.props.checked)},style:{display:"inline-block"}})]}),Object(n.jsx)("div",{className:"btnContainer",children:Object(n.jsx)("button",{onClick:this.props.handleSignup,children:"Sign Up"})})]})})}}]),a}(s.Component);a(165);var K=Object(B.b)((function(e){return{email:e.userInfo.email}}),(function(e){return Object(U.a)({signup:L},e)}))((function(e){var t=this,a=Object(o.f)(),r=Object(s.useState)(!1),i=Object(Z.a)(r,2),c=i[0],l=i[1],d=Object(s.useState)(""),u=Object(Z.a)(d,2),h=u[0],j=u[1],p=Object(s.useState)(""),b=Object(Z.a)(p,2),O=b[0],g=b[1],m=Object(s.useState)(""),x=Object(Z.a)(m,2),y=x[0],I=x[1],A=Object(s.useState)(""),T=Object(Z.a)(A,2),L=T[0],F=T[1],D=Object(s.useState)(""),R=Object(Z.a)(D,2),q=R[0],z=R[1],W=Object(s.useState)(""),B=Object(Z.a)(W,2),U=B[0],G=B[1],M=Object(s.useState)(!1),Q=Object(Z.a)(M,2),H=Q[0],V=Q[1],Y=Object(s.useState)(!1),_=Object(Z.a)(Y,2),K=_[0],X=_[1],ee=function(){X(!1)};Object(s.useEffect)((function(){te(),setInterval((function(){return t.authenticate()}),6e5)}));var te=function(){v.a.get("/server/user/authenticate").then((function(e){"success"===e.data.message&&t.props.history.push("/profile")}))};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(f.a,{children:Object(n.jsx)("title",{children:"ReadPal | Sign up"})}),Object(n.jsxs)("div",{className:"SignupPage",children:[c?Object(n.jsx)($,{firstname:h,lastname:O,organization:y,country:L,otp:q,password:U,setOtp:z,setLastname:g,setFirstname:j,setOrganization:I,setCountry:F,setPassword:G,handleSignup:function(){if(H){var t={otp:q,email:e.email,password:U,firstname:h,lastname:O,organization:y,country:L};v()({method:"post",url:"/server/user/register",data:E.a.stringify(t),headers:{"content-type":"application/x-www-form-urlencoded;charset=utf-8"}}).then((function(t){console.log(t),200===t.status&&"success"===t.data.message&&(e.signup(t.data.userID,e.email),a.push("/child-profile-form"))}))}else X(!0)},checked:H,setChecked:V}):Object(n.jsx)(J,{setAsked:l}),Object(n.jsxs)(C.a,{open:K,onClose:ee,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(n.jsx)(S.a,{id:"alert-dialog-title",children:"Forget anything?"}),Object(n.jsx)(w.a,{children:Object(n.jsx)(P.a,{id:"alert-dialog-description",children:"Please Agree the Terms and Services!"})}),Object(n.jsx)(N.a,{children:Object(n.jsx)(k.a,{onClick:ee,color:"primary",autoFocus:!0,children:"Close"})})]})]})]})})),X=a(257),ee=(a(166),["7","8","9"]),te=["Blue","Red","Green","Pink","Purple","Orange","Yellow"],ae=["Dog","Cat","Horse","Rabbit","Dolphin","Bear","Kangaroo","Lion","Tiger","Bird"],ne=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={age:"",color:"",animal:"",valid:!1,open:!1},e.componentDidUpdate=function(t,a){!1===a.valid&&""!==e.state.age&&""!==e.state.color&&""!==e.state.animal&&e.setState({valid:!0})},e.handleClickOpen=function(){e.setState({open:!0})},e.handleClose=function(){e.setState({open:!1})},e.handleAge=function(t){e.setState({age:t.target.value})},e.handleColor=function(t){e.setState({color:t.target.value})},e.handleAnimal=function(t){e.setState({animal:t.target.value})},e.handleSubmit=function(){if(e.state.valid){var t={age:e.state.age,color:e.state.color,animal:e.state.animal};v()({method:"post",url:"/server/user/".concat(e.props.userID,"/profile"),data:E.a.stringify(t),headers:{"content-type":"application/x-www-form-urlencoded;charset=utf-8"}}).then((function(t){(t.data.message="success")&&(e.props.setNewProfile(t.data.profileID,e.state.color,e.state.animal,e.state.age),e.props.history.push("/congrats"))}))}else e.handleClickOpen()},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(f.a,{children:Object(n.jsx)("title",{children:"ReadPal | Create New Child Profile"})}),Object(n.jsxs)("div",{style:{margin:20,padding:10},children:[Object(n.jsx)(p.a,{className:"readpal-header",children:"Welcome to ReadPal"}),Object(n.jsx)(p.a,{className:"greetings-header",children:"To begin, tell us about yourself."}),Object(n.jsx)("form",{children:Object(n.jsxs)(H.a,{container:!0,style:{paddingTop:15},children:[Object(n.jsxs)(H.a,{item:!0,xs:12,style:{paddingBottom:10},children:[Object(n.jsx)(p.a,{children:"How old are you?"}),ee.map((function(t){return Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)(X.a,{value:t,checked:e.state.age===t,color:"primary",onChange:e.handleAge}),t,Object(n.jsx)("br",{})]})}))]}),Object(n.jsxs)(H.a,{item:!0,xs:12,style:{paddingBottom:10},children:[Object(n.jsx)(p.a,{children:"What is your favourite color?"}),te.map((function(t){return Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)(X.a,{value:t,checked:e.state.color===t,color:"primary",onChange:e.handleColor}),t,Object(n.jsx)("br",{})]})}))]}),Object(n.jsxs)(H.a,{item:!0,xs:12,style:{paddingBottom:10},children:[Object(n.jsx)(p.a,{children:"What is your favourite animal?"}),ae.map((function(t){return Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)(X.a,{value:t,checked:e.state.animal===t,color:"primary",onChange:e.handleAnimal}),t,Object(n.jsx)("br",{})]})}))]})]})}),Object(n.jsx)("button",{onClick:this.handleSubmit,children:"Submit"}),Object(n.jsxs)(C.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(n.jsx)(S.a,{id:"alert-dialog-title",children:"Forget anything?"}),Object(n.jsx)(w.a,{children:Object(n.jsx)(P.a,{id:"alert-dialog-description",children:"Please Answer All The Questions!"})}),Object(n.jsx)(N.a,{children:Object(n.jsx)(k.a,{onClick:this.handleClose,color:"primary",autoFocus:!0,children:"Absolutely!"})})]})]})]})}}]),a}(s.Component),se=Object(B.b)((function(e){return{userID:e.userInfo.userID}}),(function(e){return Object(U.a)({setNewProfile:R},e)}))(Object(o.g)(ne)),re=(a(167),a.p+"static/media/green_lion.39976864.jpg"),ie=Object(B.b)((function(e){return{newProfile:e.userInfo.yourChildren[0]}}))((function(e){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(f.a,{children:Object(n.jsx)("title",{children:"ReadPal | Congratulation"})}),Object(n.jsxs)("div",{className:"profile-done-block",children:[Object(n.jsx)(p.a,{className:"profile-congrat-header",children:"Congratulations,"}),Object(n.jsxs)(p.a,{className:"profile-congrat-text",children:[e.newProfile.color," ",e.newProfile.animal,"!"]}),Object(n.jsx)("img",{src:re,alt:"icon",style:{width:300,height:300,padding:0,margin:0}}),Object(n.jsxs)(p.a,{className:"profile-greetings-text",children:["Your unique profile ID number is:",Object(n.jsx)(p.a,{style:{fontWeight:"bold",fontSize:25,color:e.newProfile.color},children:e.newProfile.id}),"PLEASE WRITE THIS DOWN"]}),Object(n.jsx)("div",{children:Object(n.jsx)(m.b,{to:"/",children:Object(n.jsx)("button",{id:"profile-congrat-enter-btn",children:"Enter Home"})})}),Object(n.jsx)("div",{children:Object(n.jsx)(m.b,{to:"/child-profile-form",children:Object(n.jsx)("button",{id:"profile-congrat-create-btn",children:"Create Another Child Profile"})})})]})]})})),ce=(a(168),function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={email:""},e.handleConfirm=function(){v()({method:"post",url:"/server/user/verify",data:E.a.stringify({email:e.state.email}),headers:{"content-type":"application/x-www-form-urlencoded;charset=utf-8"}}).then((function(t){console.log(t),200===t.status&&"success"===t.data.message&&(e.props.changeEmail(e.state.email),e.props.history.push("/signup"))}))},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(f.a,{children:Object(n.jsx)("title",{children:"ReadPal | Email Confirmation"})}),Object(n.jsx)("section",{className:"email-confirm",children:Object(n.jsxs)("div",{className:"email-confirmContainer",style:{marginTop:"10%"},children:[Object(n.jsx)("h1",{children:"Sign Up"}),Object(n.jsx)("label",{children:"Enter your email address"}),Object(n.jsx)("input",{type:"text",required:!0,value:this.state.email,onChange:function(t){return e.setState({email:t.target.value})}}),Object(n.jsx)("div",{className:"btnContainer",children:Object(n.jsx)("button",{onClick:this.handleConfirm,children:"Register"})})]})})]})}}]),a}(s.Component)),oe=Object(B.b)((function(e){return{}}),(function(e){return Object(U.a)({changeEmail:D},e)}))(ce),le=(a(169),function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={email:"",password:"",otp:"",open:!1,next:!1,validStep1:!1,validStep2:!1},e.handleClickOpen=function(){e.setState({open:!0})},e.handleClose=function(){e.setState({open:!1})},e.componentDidUpdate=function(t,a){!a.validStep1&&e.validateEmail(e.state.email)&&(console.log(e.state.email),e.setState({validStep1:!0})),a.validStep2||""===e.state.otp||""===e.state.password||e.setState({validStep2:!0})},e.handleSubmit=function(){e.state.validStep1?v()({method:"post",url:"/server/user/forgot",data:E.a.stringify({email:e.state.email}),headers:{"content-type":"application/x-www-form-urlencoded;charset=utf-8"}}).then((function(t){console.log(t),200===t.status&&"success"===t.data.message&&e.setState({next:!0})})):e.handleClickOpen()},e.handleReset=function(){e.state.validStep2?v()({method:"patch",url:"/server/user/reset",data:E.a.stringify({otp:e.state.otp,password:e.state.password}),headers:{"content-type":"application/x-www-form-urlencoded;charset=utf-8"}}).then((function(t){console.log(t),200===t.status&&"success"===t.data.message&&e.props.history.push("/login")})):e.handleClickOpen()},e.validateEmail=function(){return!!/^[a-zA-Z0-9]+@(?:[a-zA-Z0-9]+\.)+[A-Za-z]+$/.test(e.state.email)},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(f.a,{children:Object(n.jsx)("title",{children:"ReadPal | Forgot Password"})}),this.state.next?Object(n.jsx)("section",{className:"forgotPassword",children:Object(n.jsxs)("div",{className:"forgotPasswordContainer",style:{marginTop:"10%"},children:[Object(n.jsx)("h1",{children:"Reset Password"}),Object(n.jsx)("label",{children:"Enter the 6-digit code we sent you via Email"}),Object(n.jsx)("input",{type:"text",autoFocus:!0,required:!0,value:this.state.otp,onChange:function(t){return e.setState({otp:t.target.value})}}),Object(n.jsx)("label",{children:"Password"}),Object(n.jsx)("input",{type:"password",required:!0,value:this.state.password,onChange:function(t){return e.setState({password:t.target.value})}}),Object(n.jsx)("div",{className:"btnContainer",children:Object(n.jsx)("button",{onClick:this.handleReset,children:"Reset"})})]})}):Object(n.jsx)("section",{className:"forgotPassword",children:Object(n.jsxs)("div",{className:"forgotPasswordContainer",style:{marginTop:"10%"},children:[Object(n.jsx)("h1",{children:"Reset Password"}),Object(n.jsx)("label",{children:"Enter your registered Email Address"}),Object(n.jsx)("input",{type:"text",autoFocus:!0,required:!0,value:this.state.email,onChange:function(t){return e.setState({email:t.target.value})}}),Object(n.jsx)("div",{className:"btnContainer",children:Object(n.jsx)("button",{onClick:this.handleSubmit,children:"Submit"})})]})}),Object(n.jsxs)(C.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(n.jsx)(S.a,{id:"alert-dialog-title",children:"Forget anything?"}),Object(n.jsx)(w.a,{children:Object(n.jsx)(P.a,{id:"alert-dialog-description",children:"Please fill in all the required fields."})}),Object(n.jsx)(N.a,{children:Object(n.jsx)(k.a,{onClick:this.handleClose,color:"primary",autoFocus:!0,children:"Absolutely!"})})]})]})}}]),a}(s.Component)),de=(a(170),function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={userID:e.props.cookies.get("userID")||"",validSession:!0},e.getProfiles=function(){v.a.get("/server/user/".concat(e.state.userID,"/profiles")).then((function(t){"success"===t.data.message&&e.props.setProfiles(t.data.profiles)}))},e.handleLogout=function(){v.a.get("/server/user/logout").then((function(t){"success"===t.data.message&&(e.props.logout(),e.props.cookies.remove("userID"),e.props.cookies.remove("profileID"),e.props.history.push("/login"))}))},e.handleChooseProfile=function(t){e.props.setCurrentProfile(t),e.props.cookies.set("profileID",t,{path:"/",maxAge:86400})},e.componentDidMount=function(){e.authenticate(),e.getProfiles(),setInterval((function(){return e.authenticate()}),6e5)},e.authenticate=function(){v.a.get("/server/user/authenticate").then((function(t){"success"===t.data.message||e.props.history.push("/login")}))},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(f.a,{children:Object(n.jsx)("title",{children:"ReadPal | Profile"})}),Object(n.jsxs)("div",{className:"profile-home-block",children:[Object(n.jsx)(p.a,{className:"profile-home-header",children:"Please select who is reading today"}),Object(n.jsx)("hr",{style:{width:"66%",margin:"auto",padding:30}}),this.props.childrenProfile.map((function(t,a){return Object(n.jsx)("div",{id:a,style:{border:"1px solid grey",borderRadius:20,width:500,margin:"auto",marginBottom:40},children:Object(n.jsxs)(m.b,{to:"/library",onClick:function(){return e.handleChooseProfile(t._id)},children:[Object(n.jsxs)(p.a,{className:"profile-home-id-text",style:{fontWeight:"bold",fontSize:25,color:t.color,marginTop:20},children:["ID: ",t._id]}),Object(n.jsx)("img",{src:"data:image/jpeg;base64,".concat(t.icon),alt:"icon",style:{width:300,height:300,padding:0,margin:0},onClick:function(){return e.props.setCurrentProfile(t)}})]})})})),Object(n.jsx)("div",{children:Object(n.jsx)(m.b,{to:"/child-profile-form",children:Object(n.jsx)("button",{id:"profile-home-create-btn",children:"Create Another Child Profile"})})}),Object(n.jsx)("div",{children:Object(n.jsx)("button",{id:"profile-home-logout-btn",onClick:this.handleLogout,children:"Log out"})})]})]})}}]),a}(s.Component)),ue=Object(B.b)((function(e){return{childrenProfile:e.userInfo.yourChildren,userID:e.userInfo.userID}}),(function(e){return Object(U.a)({setProfiles:q,setCurrentProfile:z,logout:F},e)}))(Object(G.a)(de)),he=a(251),je=a(252),pe=a(253),be=a(254),Oe=(a(171),a.p+"static/media/children.4545a2d3.jpg");function ge(e){var t=e.handleOpen,a=e.open,s=e.story,r=e.handleChooseStory;return Object(n.jsxs)(C.a,{open:a,onClose:function(){return t(!1)},maxWidth:"lg",children:[Object(n.jsx)(S.a,{children:Object(n.jsx)(p.a,{variant:"h3",children:s.title})}),Object(n.jsxs)(w.a,{children:[Object(n.jsxs)(p.a,{style:{fontSize:25},children:["Author: ",s.author]}),Object(n.jsxs)(p.a,{style:{fontSize:25},children:["Pages: ",s.pages]}),Object(n.jsx)("img",{src:Oe,alt:"thumbnail",style:{width:200,height:200,margin:20}}),Object(n.jsx)("div",{style:{fontSize:20,marginTop:15},children:s.description})]}),Object(n.jsxs)(N.a,{children:[Object(n.jsx)(k.a,{variant:"primary",onClick:function(){return t(!1)},children:"Back"}),Object(n.jsx)(k.a,{variant:"primary",onClick:function(){return r(s.title)},children:"Read"}),Object(n.jsx)(k.a,{variant:"primary",children:"Find Friends"})]})]})}var me=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={titles:[],open:!1,chosenStory:{title:"",description:"",author:"",ages:[""]}},e.getTitles=function(){v.a.get("/server/library/titles").then((function(t){"success"===t.data.message&&e.setState({titles:t.data.stories})}))},e.componentDidMount=function(){e.authenticate(),e.getTitles(),setInterval((function(){return e.authenticate()}),6e5)},e.authenticate=function(){v.a.get("/server/user/authenticate").then((function(t){"success"===t.data.message||e.props.history.push("/login")}))},e.handleChooseStory=function(t){e.props.setActiveStory(t),e.props.cookies.set("activeStory",t,{path:"/",maxAge:86400}),e.props.history.push("/read-story")},e.handleOpen=function(t){e.setState({open:t})},e.handlePreview=function(t){e.setState({open:!0,chosenStory:t})},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(f.a,{children:Object(n.jsx)("title",{children:"ReadPal | Library"})}),Object(n.jsx)(p.a,{className:"library-page-header",variant:"h2",children:"Library"}),Object(n.jsx)("div",{className:"library-page-block",children:Object(n.jsx)(he.a,{sx:{width:"100%",maxWidth:360,bgcolor:"background.paper"},children:this.state.titles.map((function(t,a){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(je.a,{alignItems:"flex-start",onClick:function(){e.handlePreview(t)},style:{cursor:"pointer"},className:"lib-story",children:Object(n.jsx)(pe.a,{primary:"Title: ".concat(t.title),secondary:Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsxs)(p.a,{component:"span",variant:"body1",color:"text.primary",style:{fontStyle:"italic",marginBottom:10},children:["Author: ",t.author]}),Object(n.jsxs)(p.a,{variant:"body1",children:["Pages: ",t.pages]}),Object(n.jsxs)(p.a,{variant:"body1",children:["Ages: ",t.ages[0]," and ",t.ages[1]]})]})})}),Object(n.jsx)(be.a,{variant:"inset",component:"li"})]})}))})}),Object(n.jsx)(ge,{handleOpen:this.handleOpen,open:this.state.open,story:this.state.chosenStory,handleChooseStory:this.handleChooseStory})]})}}]),a}(s.Component),fe=Object(B.b)((function(e){return{}}),(function(e){return Object(U.a)({setActiveStory:W},e)}))(Object(G.a)(me)),xe=a(66),ve=a(256),ye=a(122),Ce=a.n(ye),Se=a(121),we=a.n(Se),Pe=a(120),Ne=a.n(Pe),ke=(a(202),a(119)),Ie=a.n(ke);xe.c.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(xe.c.version,"/pdf.worker.js");var Ae=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={numPages:null,pageNumber:1,prevAvailable:!1,nextAvailable:!1,tempPageNo:1,file:null,isLoading:!0},e.onDocumentLoadSuccess=function(t){var a=t.numPages;a>1?e.setState({numPages:a,nextAvailable:!0}):e.setState({numPages:a})},e.goToPrevPage=function(){e.state.pageNumber-1===1?e.setState((function(e){return{pageNumber:e.pageNumber-1,prevAvailable:!1,nextAvailable:!0}})):e.setState((function(e){return{pageNumber:e.pageNumber-1,nextAvailable:!0}}))},e.goToNextPage=function(){e.state.pageNumber+1===e.state.numPages?e.setState((function(e){return{pageNumber:e.pageNumber+1,nextAvailable:!1,prevAvailable:!0}})):e.setState((function(e){return{pageNumber:e.pageNumber+1,prevAvailable:!0}}))},e.goToPage=function(){e.state.tempPageNo>0&&e.state.tempPageNo<=e.state.numPages?e.setState({pageNumber:e.state.tempPageNo}):console.log("Invalid")},e.handleChange=function(t){if(""!==t.target.value){var a=t.target.value;isNaN(a)||(a=parseInt(a),e.setState({tempPageNo:a}))}},e.componentDidUpdate=function(t,a){if(a.pageNumber!==e.state.pageNumber){var n=!1,s=!1;e.state.pageNumber>1&&e.state.pageNumber<e.state.numPages?(n=!0,s=!0):e.state.pageNumber<=1?s=!0:e.state.pageNumber>=e.state.numPages&&(n=!0),e.setState({prevAvailable:n,nextAvailable:s})}},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;v()({method:"GET",url:"/server/library/story",params:{title:this.props.title},responseType:"blob"}).then((function(t){var a=new Blob([t.data],{type:"application/pdf"});e.setState({file:a,isLoading:!1})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.pageNumber,s=t.numPages;return this.state.isLoading?Object(n.jsxs)("div",{className:"pdf-display-loading",children:[Object(n.jsx)("h1",{children:"Loading story"}),Object(n.jsx)(Ie.a,{size:100})]}):Object(n.jsxs)("div",{className:"pdf-display-container",children:[Object(n.jsx)("div",{children:Object(n.jsxs)(k.a,{variant:"outlined",color:"secondary",onClick:this.props.backToLibrary,style:{width:210,margin:25},children:[Object(n.jsx)(Ne.a,{style:{marginRight:10}}),"Back to Library"]})}),Object(n.jsx)("h3",{children:this.props.title}),Object(n.jsx)(xe.a,{file:this.state.file,onLoadSuccess:this.onDocumentLoadSuccess,children:Object(n.jsx)(xe.b,{pageNumber:a})}),Object(n.jsxs)("p",{className:"page-info",children:["Page ",a," of ",s]}),Object(n.jsxs)("div",{children:[Object(n.jsx)(ve.a,{id:"standard-basic",label:"Jump To",placeholder:"Ex: 1",onChange:function(t){return e.handleChange(t)},style:{maxWidth:80,maxHeight:30}}),Object(n.jsx)("span",{children:Object(n.jsx)(k.a,{onClick:this.goToPage,style:{maxWidth:40,marginTop:10},children:"Go!"})}),Object(n.jsxs)("span",{className:"prev-next-block",children:[this.state.prevAvailable?Object(n.jsxs)(k.a,{variant:"outlined",color:"primary",onClick:this.goToPrevPage,style:{maxWidth:175,marginLeft:"5%"},children:[Object(n.jsx)(we.a,{}),"Previous Page"]}):Object(n.jsx)(n.Fragment,{}),this.state.nextAvailable?Object(n.jsxs)(k.a,{variant:"outlined",color:"primary",disabled:!this.state.nextAvailable,onClick:this.goToNextPage,style:{maxWidth:175,marginLeft:"5%"},children:["Next Page",Object(n.jsx)(Ce.a,{})]}):Object(n.jsx)(n.Fragment,{})]})]})]})}}]),a}(s.Component),Ee=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={title:e.props.cookies.get("activeStory")||""},e.backToLibrary=function(){e.props.history.push("/library")},e.componentDidMount=function(){e.authenticate(),setInterval((function(){return e.authenticate()}),6e5)},e.authenticate=function(){v.a.get("/server/user/authenticate").then((function(t){"success"===t.data.message||e.props.history.push("/login")}))},e}return Object(d.a)(a,[{key:"render",value:function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(f.a,{children:Object(n.jsxs)("title",{children:["ReadPal | Reading: ",this.state.title]})}),Object(n.jsx)(Ae,{title:this.state.title,backToLibrary:this.backToLibrary})]})}}]),a}(s.Component),Te=Object(B.b)((function(e){return{title:e.userInfo.activeStory.title}}))(Object(G.a)(Ee)),Le=(a(109),function(e){var t=0;return Object(n.jsxs)("div",{className:"card text-center shadow",children:[Object(n.jsx)("div",{className:"overflow",children:Object(n.jsx)("img",{src:e.imgsrc,alt:"children",className:"card-img-top"})}),Object(n.jsxs)("div",{className:"card-body text-dark",children:[Object(n.jsx)("h1",{className:"card-title",children:e.header}),Object(n.jsx)("ul",{className:"list-unstyled card-text text-secodary",children:e.content.map((function(e){return Object(n.jsx)("li",{children:e},t++)}))}),Object(n.jsxs)("div",{children:[Object(n.jsx)("span",{className:"price-span",children:e.price}),Object(n.jsx)("span",{className:"period-span",children:"Per month"})]}),Object(n.jsx)("a",{href:"/",className:"btn btn-outline-success",children:"Subcribe"})]})]})}),Fe=(s.Component,a(208),function(){return Object(n.jsxs)(o.c,{children:[Object(n.jsx)(o.a,{path:"/login",exact:!0,component:Q}),Object(n.jsx)(o.a,{path:"/signup",exact:!0,component:K}),Object(n.jsx)(o.a,{path:"/child-profile-form",exact:!0,component:se}),Object(n.jsx)(o.a,{path:"/congrats",exact:!0,component:ie}),Object(n.jsx)(o.a,{path:"/email-confirmation",exact:!0,component:oe}),Object(n.jsx)(o.a,{path:"/forgot-password",exact:!0,component:le}),Object(n.jsx)(o.a,{path:"/profile",exact:!0,component:ue}),Object(n.jsx)(o.a,{path:"/library",exact:!0,component:fe}),Object(n.jsx)(o.a,{path:"/read-story",exact:!0,component:Te}),Object(n.jsx)(o.a,{path:"/",exact:!0,component:y})]})});a(209);var De=function(){return Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(Fe,{})})},Re=(a(210),a(123)),qe=a(31),ze={userID:"",email:"",currentProfile:{},yourChildren:[],friends:[],activeStory:{}},We=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":case"SIGNUP":return Object(qe.a)(Object(qe.a)({},e),{},{userID:t.payload.userID,email:t.payload.email});case"SETEMAIL":return Object(qe.a)(Object(qe.a)({},e),{},{email:t.payload});case"SETNEWPROFILE":return Object(qe.a)(Object(qe.a)({},e),{},{yourChildren:[].concat(Object(Re.a)(e.yourChildren),[t.payload])});case"SETPROFILES":return Object(qe.a)(Object(qe.a)({},e),{},{yourChildren:t.payload});case"SETCURRENTPROFILE":return Object(qe.a)(Object(qe.a)({},e),{},{currentProfile:t.payload});case"SETACTIVESTORY":return Object(qe.a)(Object(qe.a)({},e),{},{activeStory:t.payload});case"LOGOUT":return ze;default:return e}},Be=Object(U.b)({userInfo:We}),Ue=a(255),Ge=Object(U.c)(Be);c.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(Ue.a,{children:Object(n.jsx)(B.a,{store:Ge,children:Object(n.jsx)(m.a,{children:Object(n.jsx)(De,{})})})})}),document.getElementById("root"))},82:function(e,t,a){}},[[211,1,2]]]);
//# sourceMappingURL=main.43e276ed.chunk.js.map