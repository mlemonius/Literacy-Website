(this["webpackJsonpliteracy-website"]=this["webpackJsonpliteracy-website"]||[]).push([[0],{110:function(e,t){},111:function(e,t,a){},139:function(e,t,a){},162:function(e,t,a){},166:function(e,t,a){},167:function(e,t,a){},168:function(e,t,a){},169:function(e,t,a){},170:function(e,t,a){},171:function(e,t,a){},172:function(e,t,a){},173:function(e,t,a){},198:function(e,t){},199:function(e,t){},200:function(e,t){},201:function(e,t){},202:function(e,t){},203:function(e,t,a){},209:function(e,t,a){},210:function(e,t,a){},211:function(e,t,a){},213:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(0),s=a.n(r),i=a(15),c=a.n(i),o=(a(139),a(21)),l=a(26),d=a.n(l),u=a(38),j=a(16),h=a(17),p=a(20),b=a(19),O=a(241),f=a(64),m=(a(84),function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(j.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(h.a)(a,[{key:"render",value:function(){return Object(n.jsx)("div",{className:"Info-block",children:Object(n.jsxs)(O.a,{className:"header-container",children:[Object(n.jsx)("h1",{className:"page-title",style:{color:"#434343"},children:"Literacy Website"}),Object(n.jsx)(f.a,{color:"textSecondary",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."})]})})}}]),a}(r.Component)),g=a(118),x=a.n(g),v=a(29),y=a(18),C=a(12),S=a.n(C),w=void 0,P=function(){var e=Object(o.f)();Object(r.useEffect)((function(){t(),setInterval((function(){return w.authenticate()}),6e5)}),[]);var t=function(){var t=Object(u.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.a.post("/server/user/authenticate",{},{withCredentials:!0});case 2:"success"!==t.sent.data.message&&e.push("/login");case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(y.a,{children:Object(n.jsx)("title",{children:"ReadPal | Welcome"})}),Object(n.jsxs)("div",{className:"LandingDiv",children:[Object(n.jsx)(m,{}),Object(n.jsx)("div",{style:{margin:40,marginBottom:5,textAlign:"center"},children:Object(n.jsx)(x.a,{})}),Object(n.jsx)("div",{className:"landing-page-login",children:Object(n.jsx)(v.b,{to:"/login",children:Object(n.jsx)("button",{className:"landing-page-button",children:"Login/Signup"})})})]})]})},k=a(262),N=a(246),I=a(247),A=a(248),E=a(249),T=a(250),F=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(j.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={open:!1},e.handleClickOpen=function(){e.setState({open:!0})},e.handleClose=function(){e.setState({open:!1})},e.handleEnterPress=function(t){"Enter"===t.key&&e.handleSubmit()},e.handleSubmit=function(){e.props.valid?e.props.handleLogin():e.handleClickOpen()},e}return Object(h.a)(a,[{key:"render",value:function(){var e=this;return Object(n.jsx)("section",{className:"login",children:Object(n.jsxs)("div",{className:"loginContainer",style:{marginTop:"10%"},children:[Object(n.jsx)("h1",{children:"Log In"}),Object(n.jsx)("label",{children:"Email"}),Object(n.jsx)("input",{type:"text",autoFocus:!0,required:!0,value:this.props.email,onChange:function(t){return e.props.setEmail(t.target.value)},onKeyDown:this.handleEnterPress}),Object(n.jsx)("label",{children:"Password"}),Object(n.jsx)("input",{type:"password",required:!0,value:this.props.password,onChange:function(t){return e.props.setPassword(t.target.value)},onKeyDown:this.handleEnterPress}),Object(n.jsx)("p",{}),Object(n.jsx)(v.b,{to:"/forgot-password",children:"Forgot your password?"}),Object(n.jsxs)("div",{className:"btnContainer",children:[Object(n.jsx)("button",{onClick:this.handleSubmit,children:"Log In"}),Object(n.jsxs)("p",{children:["Not a Member yet?",Object(n.jsx)("span",{children:Object(n.jsx)(v.b,{to:"/email-confirmation",children:"Sign Up"})})]})]}),Object(n.jsxs)(k.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(n.jsx)(N.a,{id:"alert-dialog-title",children:"Forget anything?"}),Object(n.jsx)(I.a,{children:Object(n.jsx)(A.a,{id:"alert-dialog-description",children:"Please fill in all the required fields."})}),Object(n.jsx)(E.a,{children:Object(n.jsx)(T.a,{onClick:this.handleClose,color:"primary",autoFocus:!0,children:"Absolutely!"})})]})]})})}}]),a}(r.Component),D=(a(162),a(36)),L=a.n(D),R=function(e,t){return{type:"LOGIN",payload:{userID:e,email:t}}},q=function(e,t){return{type:"SIGNUP",payload:{userID:e,email:t}}},z=function(){return{type:"LOGOUT"}},W=function(e){return{type:"SETEMAIL",payload:e}},B=function(e,t,a,n){return{type:"SETNEWPROFILE",payload:{id:e,color:t,animal:a,age:n}}},U=function(e){return{type:"SETPROFILES",payload:e}},M=function(e){return{type:"SETCURRENTPROFILE",payload:e}},G=function(e,t){return{type:"SETACTIVESTORY",payload:{id:e,title:t}}},Q=a(22),Z=a(31),H=a(251),V=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(j.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={userID:e.props.cookies.get("userID")||"",email:"",password:"",valid:!1},e.setEmail=function(t){e.validateEmail(t)?e.setState({email:t,valid:!0}):e.setState({email:t,valid:!1})},e.setPassword=function(t){""!==t&&e.validateEmail(e.state.email)?e.setState({password:t,valid:!0}):e.setState({password:t,valid:!1})},e.clearInputs=function(){e.setState({email:"",password:""})},e.validateEmail=function(){return!!/^[a-zA-Z0-9\.]+@(?:[a-zA-Z0-9]+\.)+[A-Za-z0-9]+$/.test(e.state.email)},e.validatePassword=function(e){return e.length>0},e.componentDidMount=Object(u.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.a.post("/server/user/authenticate",{},{withCredentials:!0});case 2:"success"===t.sent.data.message&&e.props.history.push("/profile");case 4:case"end":return t.stop()}}),t)}))),e.handleLogin=Object(u.a)(d.a.mark((function t(){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.a.post("/server/user/login",L.a.stringify({username:e.state.email,password:e.state.password}),{withCredentials:!0,headers:{"content-type":"application/x-www-form-urlencoded;charset=utf-8"}});case 2:200===(a=t.sent).status&&"success"===a.data.message&&(e.props.login(a.data.userID,e.state.email),e.props.cookies.set("userID",a.data.userID,{path:"/",maxAge:86400}),e.props.history.push("/profile"));case 4:case"end":return t.stop()}}),t)}))),e.setValid=function(t){e.setState({valid:t})},e}return Object(h.a)(a,[{key:"render",value:function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(y.a,{children:Object(n.jsx)("title",{children:"ReadPal | Login"})}),Object(n.jsx)("div",{className:"LoginPage",children:Object(n.jsx)(F,{email:this.state.email,setEmail:this.setEmail,password:this.state.password,setPassword:this.setPassword,handleLogin:this.handleLogin,validateEmail:this.validateEmail,valid:this.state.valid,setValid:this.setValid})})]})}}]),a}(r.Component),Y=Object(Q.b)((function(e){return{userID:e.userInfo.userID}}),(function(e){return Object(Z.a)({login:R},e)}))(Object(H.a)(V)),_=a(33),J=a(252),K=a(261),$=(a(166),function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(j.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={question1:!1,question2:!1,valid:!1,open:!1},e.componentDidUpdate=function(t,a){!1===a.valid&&e.state.question1&&e.state.question2&&e.setState({valid:!0})},e.handleClickOpen=function(){e.setState({open:!0})},e.handleClose=function(){e.setState({open:!1})},e.handleQuestion1=function(){e.setState({question1:!e.state.question1})},e.handleQuestion2=function(){e.setState({question2:!e.state.question2})},e.handleSubmit=function(){if(e.state.valid)return e.props.setAsked(!0),e.props.history.push("/signup");e.handleClickOpen()},e}return Object(h.a)(a,[{key:"render",value:function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(y.a,{children:Object(n.jsx)("title",{children:"ReadPal | Sign up Security Check"})}),Object(n.jsxs)("div",{className:"sec-checkup-container",style:{margin:20,padding:10},children:[Object(n.jsx)(f.a,{className:"sec-checkup-header",children:"Sign up Security Check"}),Object(n.jsx)("form",{children:Object(n.jsxs)(J.a,{container:!0,style:{paddingTop:15},children:[Object(n.jsxs)(J.a,{item:!0,xs:12,style:{paddingBottom:10,margin:30,fontSize:30},children:["I have a child between 7 - 9 years of age who is interested in ReadPal",Object(n.jsx)(K.a,{required:!0,checked:this.state.question1,color:"primary",onChange:this.handleQuestion1})]}),Object(n.jsxs)(J.a,{item:!0,xs:12,style:{paddingBottom:30,margin:30,fontSize:30},children:["I am the parent, legal guardian or educational organization of that child",Object(n.jsx)(K.a,{required:!0,checked:this.state.question2,color:"primary",onChange:this.handleQuestion2})]})]})}),Object(n.jsx)("button",{onClick:this.handleSubmit,id:"proceed-btn",children:"Proceed"}),Object(n.jsxs)(k.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(n.jsx)(N.a,{id:"alert-dialog-title",children:"Forget anything?"}),Object(n.jsx)(I.a,{children:Object(n.jsx)(A.a,{id:"alert-dialog-description",children:"Please Answer All The Questions!"})}),Object(n.jsx)(E.a,{children:Object(n.jsx)(T.a,{onClick:this.handleClose,color:"primary",autoFocus:!0,children:"Absolutely!"})})]})]})]})}}]),a}(r.Component)),X=Object(o.g)($),ee=a(120),te=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(j.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(h.a)(a,[{key:"render",value:function(){var e=this;return Object(n.jsx)("section",{className:"signup",children:Object(n.jsxs)("div",{className:"signupContainer",style:{marginTop:"10%"},children:[Object(n.jsx)("h1",{children:"Sign Up"}),Object(n.jsx)("label",{children:"Enter the OTP code we sent you via email"}),Object(n.jsx)("input",{type:"text",autoFocus:!0,required:!0,placeholder:"6 digit code",value:this.props.otp,onChange:function(t){return e.props.setOtp(t.target.value)}}),Object(n.jsx)("label",{children:"Password"}),Object(n.jsx)("input",{type:"password",required:!0,value:this.props.password,onChange:function(t){return e.props.setPassword(t.target.value)}}),Object(n.jsx)("label",{children:"First Name"}),Object(n.jsx)("input",{type:"text",autoFocus:!0,required:!0,value:this.props.firstname,onChange:function(t){return e.props.setFirstname(t.target.value)}}),Object(n.jsx)("label",{children:"Last Name"}),Object(n.jsx)("input",{type:"text",required:!0,value:this.props.lastname,onChange:function(t){return e.props.setLastname(t.target.value)}}),Object(n.jsx)("label",{children:"Organization"}),Object(n.jsx)("input",{type:"text",placeholder:"optional",value:this.props.organization,onChange:function(t){return e.props.setOrganization(t.target.value)}}),Object(n.jsx)("label",{children:"Country"}),Object(n.jsx)(ee.a,{id:"country-dropdown",value:this.props.country,onChange:function(t){return e.props.setCountry(t)}}),Object(n.jsxs)("div",{children:[Object(n.jsx)("p",{style:{fontSize:22,display:"inline-block"},children:"I agree to the terms of services"}),Object(n.jsx)(K.a,{required:!0,checked:this.props.checked,color:"primary",onChange:function(){return e.props.setChecked(!e.props.checked)},style:{display:"inline-block"}})]}),Object(n.jsx)("div",{className:"btnContainer",children:Object(n.jsx)("button",{onClick:this.props.handleSignup,children:"Sign Up"})})]})})}}]),a}(r.Component);a(167);var ae=Object(Q.b)((function(e){return{email:e.userInfo.email,userID:e.userInfo.userID}}),(function(e){return Object(Z.a)({signup:q},e)}))((function(e){var t=this,a=Object(o.f)(),s=Object(r.useState)(!1),i=Object(_.a)(s,2),c=i[0],l=i[1],j=Object(r.useState)(""),h=Object(_.a)(j,2),p=h[0],b=h[1],O=Object(r.useState)(""),f=Object(_.a)(O,2),m=f[0],g=f[1],x=Object(r.useState)(""),v=Object(_.a)(x,2),C=v[0],w=v[1],P=Object(r.useState)(""),F=Object(_.a)(P,2),D=F[0],R=F[1],q=Object(r.useState)(""),z=Object(_.a)(q,2),W=z[0],B=z[1],U=Object(r.useState)(""),M=Object(_.a)(U,2),G=M[0],Q=M[1],Z=Object(r.useState)(!1),H=Object(_.a)(Z,2),V=H[0],Y=H[1],J=Object(r.useState)(!1),K=Object(_.a)(J,2),$=K[0],ee=K[1],ae=function(){ee(!1)};Object(r.useEffect)((function(){ne(),setInterval((function(){return t.authenticate()}),6e5)}));var ne=function(){var e=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.post("/server/user/authenticate",{},{withCredentials:!0});case 2:"success"===e.sent.data.message&&a.push("/profile");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(y.a,{children:Object(n.jsx)("title",{children:"ReadPal | Sign up"})}),Object(n.jsxs)("div",{className:"SignupPage",children:[c?Object(n.jsx)(te,{firstname:p,lastname:m,organization:C,country:D,otp:W,password:G,setOtp:B,setLastname:g,setFirstname:b,setOrganization:w,setCountry:R,setPassword:Q,handleSignup:function(){if(V){var t={otp:W,email:e.email,password:G,firstname:p,lastname:m,organization:C,country:D};S()({method:"post",url:"/server/user/register",data:L.a.stringify(t),headers:{"content-type":"application/x-www-form-urlencoded;charset=utf-8"}}).then((function(t){200===t.status&&"success"===t.data.message&&(e.signup(t.data.userID,e.email),a.push("/child-profile-form"))}))}else ee(!0)},checked:V,setChecked:Y}):Object(n.jsx)(X,{setAsked:l}),Object(n.jsxs)(k.a,{open:$,onClose:ae,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(n.jsx)(N.a,{id:"alert-dialog-title",children:"Forget anything?"}),Object(n.jsx)(I.a,{children:Object(n.jsx)(A.a,{id:"alert-dialog-description",children:"Please Agree the Terms and Services!"})}),Object(n.jsx)(E.a,{children:Object(n.jsx)(T.a,{onClick:ae,color:"primary",autoFocus:!0,children:"Close"})})]})]})]})})),ne=a(259),re=(a(168),["7","8","9"]),se=["Blue","Red","Green","Pink","Purple","Orange","Yellow"],ie=["Dog","Cat","Horse","Rabbit","Dolphin","Bear","Kangaroo","Lion","Tiger","Bird"],ce=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(j.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={age:"",color:"",animal:"",valid:!1,open:!1},e.componentDidUpdate=function(t,a){!1===a.valid&&""!==e.state.age&&""!==e.state.color&&""!==e.state.animal&&e.setState({valid:!0})},e.handleClickOpen=function(){e.setState({open:!0})},e.handleClose=function(){e.setState({open:!1})},e.handleAge=function(t){e.setState({age:t.target.value})},e.handleColor=function(t){e.setState({color:t.target.value})},e.handleAnimal=function(t){e.setState({animal:t.target.value})},e.handleSubmit=function(){if(e.state.valid){var t={age:e.state.age,color:e.state.color,animal:e.state.animal};S()({method:"post",url:"/server/user/".concat(e.props.userID,"/profile"),data:L.a.stringify(t),headers:{"content-type":"application/x-www-form-urlencoded;charset=utf-8"}}).then((function(t){(t.data.message="success")&&(e.props.setNewProfile(t.data.profileID,e.state.color,e.state.animal,e.state.age),e.props.history.push("/congrats"))}))}else e.handleClickOpen()},e}return Object(h.a)(a,[{key:"render",value:function(){var e=this;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(y.a,{children:Object(n.jsx)("title",{children:"ReadPal | Create New Child Profile"})}),Object(n.jsxs)("div",{style:{margin:20,padding:10},children:[Object(n.jsx)(f.a,{className:"readpal-header",children:"Welcome to ReadPal"}),Object(n.jsx)(f.a,{className:"greetings-header",children:"To begin, tell us about yourself."}),Object(n.jsx)("form",{children:Object(n.jsxs)(J.a,{container:!0,style:{paddingTop:15},children:[Object(n.jsxs)(J.a,{item:!0,xs:12,style:{paddingBottom:10},children:[Object(n.jsx)(f.a,{children:"How old are you?"}),re.map((function(t){return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)(ne.a,{value:t,checked:e.state.age===t,color:"primary",onChange:e.handleAge}),t,Object(n.jsx)("br",{})]})}))]}),Object(n.jsxs)(J.a,{item:!0,xs:12,style:{paddingBottom:10},children:[Object(n.jsx)(f.a,{children:"What is your favourite color?"}),se.map((function(t){return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)(ne.a,{value:t,checked:e.state.color===t,color:"primary",onChange:e.handleColor}),t,Object(n.jsx)("br",{})]})}))]}),Object(n.jsxs)(J.a,{item:!0,xs:12,style:{paddingBottom:10},children:[Object(n.jsx)(f.a,{children:"What is your favourite animal?"}),ie.map((function(t){return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)(ne.a,{value:t,checked:e.state.animal===t,color:"primary",onChange:e.handleAnimal}),t,Object(n.jsx)("br",{})]})}))]})]})}),Object(n.jsx)("button",{onClick:this.handleSubmit,children:"Submit"}),Object(n.jsxs)(k.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(n.jsx)(N.a,{id:"alert-dialog-title",children:"Forget anything?"}),Object(n.jsx)(I.a,{children:Object(n.jsx)(A.a,{id:"alert-dialog-description",children:"Please Answer All The Questions!"})}),Object(n.jsx)(E.a,{children:Object(n.jsx)(T.a,{onClick:this.handleClose,color:"primary",autoFocus:!0,children:"Absolutely!"})})]})]})]})}}]),a}(r.Component),oe=Object(Q.b)((function(e){return{userID:e.userInfo.userID}}),(function(e){return Object(Z.a)({setNewProfile:B},e)}))(Object(o.g)(ce)),le=(a(169),a.p+"static/media/green_lion.39976864.jpg"),de=Object(Q.b)((function(e){return{newProfile:e.userInfo.yourChildren[0]}}))((function(e){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(y.a,{children:Object(n.jsx)("title",{children:"ReadPal | Congratulation"})}),Object(n.jsxs)("div",{className:"profile-done-block",children:[Object(n.jsx)(f.a,{className:"profile-congrat-header",children:"Congratulations,"}),Object(n.jsxs)(f.a,{className:"profile-congrat-text",children:[e.newProfile.color," ",e.newProfile.animal,"!"]}),Object(n.jsx)("img",{src:le,alt:"icon",style:{width:300,height:300,padding:0,margin:0}}),Object(n.jsxs)(f.a,{className:"profile-greetings-text",children:["Your unique profile ID number is:",Object(n.jsx)(f.a,{style:{fontWeight:"bold",fontSize:25,color:e.newProfile.color},children:e.newProfile.id}),"PLEASE WRITE THIS DOWN"]}),Object(n.jsx)("div",{children:Object(n.jsx)(v.b,{to:"/",children:Object(n.jsx)("button",{id:"profile-congrat-enter-btn",children:"Enter Home"})})}),Object(n.jsx)("div",{children:Object(n.jsx)(v.b,{to:"/child-profile-form",children:Object(n.jsx)("button",{id:"profile-congrat-create-btn",children:"Create Another Child Profile"})})})]})]})})),ue=(a(170),function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(j.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={email:""},e.handleConfirm=function(){S()({method:"post",url:"/server/user/verify",data:L.a.stringify({email:e.state.email}),headers:{"content-type":"application/x-www-form-urlencoded;charset=utf-8"}}).then((function(t){console.log(t),200===t.status&&"success"===t.data.message&&(e.props.changeEmail(e.state.email),e.props.history.push("/signup"))}))},e}return Object(h.a)(a,[{key:"render",value:function(){var e=this;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(y.a,{children:Object(n.jsx)("title",{children:"ReadPal | Email Confirmation"})}),Object(n.jsx)("section",{className:"email-confirm",children:Object(n.jsxs)("div",{className:"email-confirmContainer",style:{marginTop:"10%"},children:[Object(n.jsx)("h1",{children:"Sign Up"}),Object(n.jsx)("label",{children:"Enter your email address"}),Object(n.jsx)("input",{type:"text",required:!0,value:this.state.email,onChange:function(t){return e.setState({email:t.target.value})}}),Object(n.jsx)("div",{className:"btnContainer",children:Object(n.jsx)("button",{onClick:this.handleConfirm,children:"Register"})})]})})]})}}]),a}(r.Component)),je=Object(Q.b)((function(e){return{}}),(function(e){return Object(Z.a)({changeEmail:W},e)}))(ue),he=(a(171),function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(j.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:"",otp:"",open:!1,next:!1,validStep1:!1,validStep2:!1},e.handleClickOpen=function(){e.setState({open:!0})},e.handleClose=function(){e.setState({open:!1})},e.componentDidUpdate=function(t,a){!a.validStep1&&e.validateEmail(e.state.email)&&e.setState({validStep1:!0}),a.validStep2||""===e.state.otp||""===e.state.password||e.setState({validStep2:!0})},e.handleSubmit=function(){e.state.validStep1?S()({method:"post",url:"/server/user/forgot",data:L.a.stringify({email:e.state.email}),headers:{"content-type":"application/x-www-form-urlencoded;charset=utf-8"}}).then((function(t){200===t.status&&"success"===t.data.message&&e.setState({next:!0})})):e.handleClickOpen()},e.handleReset=function(){e.state.validStep2?S()({method:"patch",url:"/server/user/reset",data:L.a.stringify({otp:e.state.otp,password:e.state.password}),headers:{"content-type":"application/x-www-form-urlencoded;charset=utf-8"}}).then((function(t){console.log(t),200===t.status&&"success"===t.data.message&&e.props.history.push("/login")})):e.handleClickOpen()},e.validateEmail=function(){return!!/^[a-zA-Z0-9]+@(?:[a-zA-Z0-9]+\.)+[A-Za-z]+$/.test(e.state.email)},e}return Object(h.a)(a,[{key:"render",value:function(){var e=this;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(y.a,{children:Object(n.jsx)("title",{children:"ReadPal | Forgot Password"})}),this.state.next?Object(n.jsx)("section",{className:"forgotPassword",children:Object(n.jsxs)("div",{className:"forgotPasswordContainer",style:{marginTop:"10%"},children:[Object(n.jsx)("h1",{children:"Reset Password"}),Object(n.jsx)("label",{children:"Enter the 6-digit code we sent you via Email"}),Object(n.jsx)("input",{type:"text",autoFocus:!0,required:!0,value:this.state.otp,onChange:function(t){return e.setState({otp:t.target.value})}}),Object(n.jsx)("label",{children:"Password"}),Object(n.jsx)("input",{type:"password",required:!0,value:this.state.password,onChange:function(t){return e.setState({password:t.target.value})}}),Object(n.jsx)("div",{className:"btnContainer",children:Object(n.jsx)("button",{onClick:this.handleReset,children:"Reset"})})]})}):Object(n.jsx)("section",{className:"forgotPassword",children:Object(n.jsxs)("div",{className:"forgotPasswordContainer",style:{marginTop:"10%"},children:[Object(n.jsx)("h1",{children:"Reset Password"}),Object(n.jsx)("label",{children:"Enter your registered Email Address"}),Object(n.jsx)("input",{type:"text",autoFocus:!0,required:!0,value:this.state.email,onChange:function(t){return e.setState({email:t.target.value})}}),Object(n.jsx)("div",{className:"btnContainer",children:Object(n.jsx)("button",{onClick:this.handleSubmit,children:"Submit"})})]})}),Object(n.jsxs)(k.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(n.jsx)(N.a,{id:"alert-dialog-title",children:"Forget anything?"}),Object(n.jsx)(I.a,{children:Object(n.jsx)(A.a,{id:"alert-dialog-description",children:"Please fill in all the required fields."})}),Object(n.jsx)(E.a,{children:Object(n.jsx)(T.a,{onClick:this.handleClose,color:"primary",autoFocus:!0,children:"Absolutely!"})})]})]})}}]),a}(r.Component)),pe=(a(172),function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(j.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={userID:e.props.cookies.get("userID")||"",validSession:!0},e.getProfiles=function(){S.a.get("/server/user/".concat(e.state.userID,"/profiles")).then((function(t){"success"===t.data.message&&e.props.setProfiles(t.data.profiles)}))},e.handleLogout=function(){S.a.get("/server/user/logout",{withCredentials:!0}).then((function(t){"success"===t.data.message&&(e.props.logout(),e.props.cookies.remove("userID"),e.props.cookies.remove("profileID"),e.props.cookies.set("connect.sid","",{path:"/",maxAge:0}),e.props.cookies.remove("connect.sid"),e.props.history.push("/login"))}))},e.handleChooseProfile=function(t){e.props.setCurrentProfile(t),e.props.cookies.set("profileID",t,{path:"/",maxAge:86400})},e.componentDidMount=function(){e.authenticate(),e.getProfiles(),setInterval((function(){return e.authenticate()}),6e5)},e.authenticate=Object(u.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.a.post("/server/user/authenticate",{},{withCredentials:!0});case 2:"success"!==t.sent.data.message&&e.props.history.push("/login");case 4:case"end":return t.stop()}}),t)}))),e}return Object(h.a)(a,[{key:"render",value:function(){var e=this;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(y.a,{children:Object(n.jsx)("title",{children:"ReadPal | Profile"})}),Object(n.jsxs)("div",{className:"profile-home-block",children:[Object(n.jsx)(f.a,{className:"profile-home-header",children:"Please select who is reading today"}),Object(n.jsx)("hr",{style:{width:"66%",margin:"auto",padding:30}}),this.props.childrenProfile.map((function(t,a){return Object(n.jsx)("div",{id:a,style:{border:"1px solid grey",borderRadius:20,width:500,margin:"auto",marginBottom:40},children:Object(n.jsxs)(v.b,{to:"/friends-list",onClick:function(){return e.handleChooseProfile(t._id)},children:[Object(n.jsxs)(f.a,{className:"profile-home-id-text",style:{fontWeight:"bold",fontSize:25,color:t.color,marginTop:20},children:["ID: ",t._id]}),Object(n.jsx)("img",{src:"data:image/jpeg;base64,".concat(t.icon),alt:"icon",style:{width:300,height:300,padding:0,margin:0},onClick:function(){return e.props.setCurrentProfile(t)}})]})})})),Object(n.jsx)("div",{children:Object(n.jsx)(v.b,{to:"/child-profile-form",children:Object(n.jsx)("button",{id:"profile-home-create-btn",children:"Create Another Child Profile"})})}),Object(n.jsx)("div",{children:Object(n.jsx)("button",{id:"profile-home-logout-btn",onClick:this.handleLogout,children:"Log out"})})]})]})}}]),a}(r.Component)),be=Object(Q.b)((function(e){return{childrenProfile:e.userInfo.yourChildren,userID:e.userInfo.userID}}),(function(e){return Object(Z.a)({setProfiles:U,setCurrentProfile:M,logout:z},e)}))(Object(H.a)(pe)),Oe=a(253),fe=a(254),me=a(255),ge=a(256),xe=(a(173),a.p+"static/media/children.4545a2d3.jpg");function ve(e){var t=e.handleOpen,a=e.open,r=e.story,s=e.handleChooseStory;return Object(n.jsxs)(k.a,{open:a,onClose:function(){return t(!1)},maxWidth:"lg",children:[Object(n.jsx)(N.a,{children:Object(n.jsx)(f.a,{variant:"h3",children:r.title})}),Object(n.jsxs)(I.a,{children:[Object(n.jsxs)(f.a,{style:{fontSize:25},children:["Author: ",r.author]}),Object(n.jsxs)(f.a,{style:{fontSize:25},children:["Pages: ",r.pages]}),Object(n.jsx)("img",{src:xe,alt:"thumbnail",style:{width:200,height:200,margin:20}}),Object(n.jsx)("div",{style:{fontSize:20,marginTop:15},children:r.description})]}),Object(n.jsxs)(E.a,{children:[Object(n.jsx)(T.a,{variant:"primary",onClick:function(){return t(!1)},children:"Back"}),Object(n.jsx)(T.a,{variant:"primary",onClick:function(){return s(r.title)},children:"Read"}),Object(n.jsx)(T.a,{variant:"primary",children:"Find Friends"})]})]})}var ye=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(j.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={titles:[],open:!1,chosenStory:{title:"",description:"",author:"",ages:[""]}},e.getTitles=function(){S.a.get("/server/library/titles").then((function(t){"success"===t.data.message&&e.setState({titles:t.data.stories})}))},e.componentDidMount=function(){e.authenticate(),e.getTitles(),setInterval((function(){return e.authenticate()}),6e5)},e.authenticate=Object(u.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.a.post("/server/user/authenticate",{},{withCredentials:!0});case 2:"success"!==t.sent.data.message&&e.props.history.push("/login");case 4:case"end":return t.stop()}}),t)}))),e.handleChooseStory=function(t){e.props.setActiveStory(t),e.props.cookies.set("activeStory",t,{path:"/",maxAge:86400}),e.props.history.push("/read-story")},e.handleOpen=function(t){e.setState({open:t})},e.handlePreview=function(t){e.setState({open:!0,chosenStory:t})},e}return Object(h.a)(a,[{key:"render",value:function(){var e=this;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(y.a,{children:Object(n.jsx)("title",{children:"ReadPal | Library"})}),Object(n.jsx)(f.a,{className:"library-page-header",variant:"h2",children:"Library"}),Object(n.jsx)("div",{className:"library-page-block",children:Object(n.jsx)(Oe.a,{sx:{width:"100%",maxWidth:360,bgcolor:"background.paper"},children:this.state.titles.map((function(t,a){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(fe.a,{alignItems:"flex-start",onClick:function(){e.handlePreview(t)},style:{cursor:"pointer"},className:"lib-story",children:Object(n.jsx)(me.a,{primary:"Title: ".concat(t.title),secondary:Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsxs)(f.a,{component:"span",variant:"body1",color:"text.primary",style:{fontStyle:"italic",marginBottom:10},children:["Author: ",t.author]}),Object(n.jsxs)(f.a,{variant:"body1",children:["Pages: ",t.pages]}),Object(n.jsxs)(f.a,{variant:"body1",children:["Ages: ",t.ages[0]," and ",t.ages[1]]})]})})}),Object(n.jsx)(ge.a,{variant:"inset",component:"li"})]})}))})}),Object(n.jsx)(ve,{handleOpen:this.handleOpen,open:this.state.open,story:this.state.chosenStory,handleChooseStory:this.handleChooseStory})]})}}]),a}(r.Component),Ce=Object(Q.b)((function(e){return{}}),(function(e){return Object(Z.a)({setActiveStory:G},e)}))(Object(H.a)(ye)),Se=a(68),we=a(258),Pe=a(124),ke=a.n(Pe),Ne=a(123),Ie=a.n(Ne),Ae=a(122),Ee=a.n(Ae),Te=(a(203),a(121)),Fe=a.n(Te);Se.c.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(Se.c.version,"/pdf.worker.js");var De=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(j.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={numPages:null,pageNumber:1,prevAvailable:!1,nextAvailable:!1,tempPageNo:1,file:null,isLoading:!0},e.onDocumentLoadSuccess=function(t){var a=t.numPages;a>1?e.setState({numPages:a,nextAvailable:!0}):e.setState({numPages:a})},e.goToPrevPage=function(){e.state.pageNumber-1===1?e.setState((function(e){return{pageNumber:e.pageNumber-1,prevAvailable:!1,nextAvailable:!0}})):e.setState((function(e){return{pageNumber:e.pageNumber-1,nextAvailable:!0}}))},e.goToNextPage=function(){e.state.pageNumber+1===e.state.numPages?e.setState((function(e){return{pageNumber:e.pageNumber+1,nextAvailable:!1,prevAvailable:!0}})):e.setState((function(e){return{pageNumber:e.pageNumber+1,prevAvailable:!0}}))},e.goToPage=function(){e.state.tempPageNo>0&&e.state.tempPageNo<=e.state.numPages?e.setState({pageNumber:e.state.tempPageNo}):console.log("Invalid")},e.handleChange=function(t){if(""!==t.target.value){var a=t.target.value;isNaN(a)||(a=parseInt(a),e.setState({tempPageNo:a}))}},e.componentDidUpdate=function(t,a){if(a.pageNumber!==e.state.pageNumber){var n=!1,r=!1;e.state.pageNumber>1&&e.state.pageNumber<e.state.numPages?(n=!0,r=!0):e.state.pageNumber<=1?r=!0:e.state.pageNumber>=e.state.numPages&&(n=!0),e.setState({prevAvailable:n,nextAvailable:r})}},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this;S()({method:"GET",url:"/server/library/story",params:{title:this.props.title},responseType:"blob"}).then((function(t){var a=new Blob([t.data],{type:"application/pdf"});e.setState({file:a,isLoading:!1})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.pageNumber,r=t.numPages;return this.state.isLoading?Object(n.jsxs)("div",{className:"pdf-display-loading",children:[Object(n.jsx)("h1",{children:"Loading story"}),Object(n.jsx)(Fe.a,{size:100})]}):Object(n.jsxs)("div",{className:"pdf-display-container",children:[Object(n.jsx)("div",{children:Object(n.jsxs)(T.a,{variant:"outlined",color:"secondary",onClick:this.props.backToLibrary,style:{width:210,margin:25},children:[Object(n.jsx)(Ee.a,{style:{marginRight:10}}),"Back to Library"]})}),Object(n.jsx)("h3",{children:this.props.title}),Object(n.jsx)(Se.a,{file:this.state.file,onLoadSuccess:this.onDocumentLoadSuccess,children:Object(n.jsx)(Se.b,{pageNumber:a})}),Object(n.jsxs)("p",{className:"page-info",children:["Page ",a," of ",r]}),Object(n.jsxs)("div",{children:[Object(n.jsx)(we.a,{id:"standard-basic",label:"Jump To",placeholder:"Ex: 1",onChange:function(t){return e.handleChange(t)},style:{maxWidth:80,maxHeight:30}}),Object(n.jsx)("span",{children:Object(n.jsx)(T.a,{onClick:this.goToPage,style:{maxWidth:40,marginTop:10},children:"Go!"})}),Object(n.jsxs)("span",{className:"prev-next-block",children:[this.state.prevAvailable?Object(n.jsxs)(T.a,{variant:"outlined",color:"primary",onClick:this.goToPrevPage,style:{maxWidth:175,marginLeft:"5%"},children:[Object(n.jsx)(Ie.a,{}),"Previous Page"]}):Object(n.jsx)(n.Fragment,{}),this.state.nextAvailable?Object(n.jsxs)(T.a,{variant:"outlined",color:"primary",disabled:!this.state.nextAvailable,onClick:this.goToNextPage,style:{maxWidth:175,marginLeft:"5%"},children:["Next Page",Object(n.jsx)(ke.a,{})]}):Object(n.jsx)(n.Fragment,{})]})]})]})}}]),a}(r.Component),Le=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(j.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={title:e.props.cookies.get("activeStory")||""},e.backToLibrary=function(){e.props.history.push("/library")},e.componentDidMount=function(){e.authenticate(),setInterval((function(){return e.authenticate()}),6e5)},e.authenticate=Object(u.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.a.post("/server/user/authenticate",{},{withCredentials:!0});case 2:"success"!==t.sent.data.message&&e.props.history.push("/login");case 4:case"end":return t.stop()}}),t)}))),e}return Object(h.a)(a,[{key:"render",value:function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(y.a,{children:Object(n.jsxs)("title",{children:["ReadPal | Reading: ",this.state.title]})}),Object(n.jsx)(De,{title:this.state.title,backToLibrary:this.backToLibrary})]})}}]),a}(r.Component),Re=Object(Q.b)((function(e){return{title:e.userInfo.activeStory.title}}))(Object(H.a)(Le)),qe=(a(111),function(e){var t=0;return Object(n.jsxs)("div",{className:"card text-center shadow",children:[Object(n.jsx)("div",{className:"overflow",children:Object(n.jsx)("img",{src:e.imgsrc,alt:"children",className:"card-img-top"})}),Object(n.jsxs)("div",{className:"card-body text-dark",children:[Object(n.jsx)("h1",{className:"card-title",children:e.header}),Object(n.jsx)("ul",{className:"list-unstyled card-text text-secodary",children:e.content.map((function(e){return Object(n.jsx)("li",{children:e},t++)}))}),Object(n.jsxs)("div",{children:[Object(n.jsx)("span",{className:"price-span",children:e.price}),Object(n.jsx)("span",{className:"period-span",children:"Per month"})]}),Object(n.jsx)("a",{href:"/",className:"btn btn-outline-success",children:"Subcribe"})]})]})}),ze=(r.Component,a(209),function(){var e=Object(Q.d)((function(e){return e.userInfo.userID})),t=Object(Q.d)((function(e){return e.userInfo.friendEmail})),a=Object(r.useState)(""),s=Object(_.a)(a,2),i=s[0],c=s[1];return Object(r.useEffect)((function(){S()({method:"post",url:"/server/user/send",data:L.a.stringify({username:e,email:t}),headers:{"content-type":"application/x-www-form-urlencoded;charset=utf-8"}}).then((function(e){"success"===e.data.message&&c(e.data.hostRoomUrl)}))}),[]),Object(n.jsx)("div",{children:Object(n.jsx)("iframe",{src:i,allow:"camera; microphone; fullscreen; speaker; display-capture"})})}),We=(a(210),function(){var e=Object(r.useState)([]),t=Object(_.a)(e,2),a=t[0],s=t[1],i=Object(Q.d)((function(e){return e.userInfo.userID})),c=Object(o.f)(),l=Object(Q.c)();return Object(r.useEffect)((function(){S.a.get("/server/user/".concat(i,"/students")).then((function(e){"success"===e.data.message&&s(e.data.students)}))}),[]),Object(n.jsx)("div",{className:"friendslist-innerdiv",children:a.map((function(e,t){return Object(n.jsxs)("div",{className:"friend-line",onClick:function(){},children:[e.email+"\n("+e._id+")",Object(n.jsx)("span",{children:Object(n.jsx)(T.a,{onClick:function(){l({type:"SETFRIENDEMAIL",payload:{email:e.email}}),c.push("/calling")},children:"Call"})})]},t)}))})}),Be=function(){var e=Object(r.useState)(""),t=Object(_.a)(e,2),a=t[0],s=t[1],i=Object(r.useRef)(null),c=Object(Q.d)((function(e){return e.userInfo.userID}));Object(r.useEffect)((function(){i.current.focus()}));var o=function(e){e.preventDefault(),S()({method:"post",url:"/server/user/send",data:{email:a,username:c}}),s("")};return Object(n.jsx)("form",{onSubmit:o,className:"addfriend-form",children:Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("input",{placeholder:"Add a new friend",value:a,onChange:function(e){s(e.target.value)},name:"text",className:"addfriend-input",ref:i}),Object(n.jsx)(T.a,{onClick:o,className:"addfriend-button",children:"Add Friend"})]})})};var Ue=function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(y.a,{children:Object(n.jsx)("title",{children:"ReadPal | Friends List"})}),Object(n.jsxs)("div",{className:"friendslist-outerdiv",children:[Object(n.jsx)("h1",{children:"Friends List:"}),Object(n.jsx)(Be,{}),Object(n.jsx)(We,{})]})]})},Me=function(){return Object(n.jsxs)(o.c,{children:[Object(n.jsx)(o.a,{path:"/login",exact:!0,component:Y}),Object(n.jsx)(o.a,{path:"/signup",exact:!0,component:ae}),Object(n.jsx)(o.a,{path:"/child-profile-form",exact:!0,component:oe}),Object(n.jsx)(o.a,{path:"/congrats",exact:!0,component:de}),Object(n.jsx)(o.a,{path:"/email-confirmation",exact:!0,component:je}),Object(n.jsx)(o.a,{path:"/forgot-password",exact:!0,component:he}),Object(n.jsx)(o.a,{path:"/profile",exact:!0,component:be}),Object(n.jsx)(o.a,{path:"/library",exact:!0,component:Ce}),Object(n.jsx)(o.a,{path:"/read-story",exact:!0,component:Re}),Object(n.jsx)(o.a,{path:"/friends-list",exact:!0,component:Ue}),Object(n.jsx)(o.a,{path:"/calling",exact:!0,component:ze}),Object(n.jsx)(o.a,{path:"/",exact:!0,component:P})]})};a(211);var Ge=function(){return Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(Me,{})})},Qe=(a(212),a(125)),Ze=a(32),He={userID:"",email:"",currentProfile:{},yourChildren:[],friends:[],activeStory:{},friendEmail:""},Ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":case"SIGNUP":return Object(Ze.a)(Object(Ze.a)({},e),{},{userID:t.payload.userID,email:t.payload.email});case"SETEMAIL":return Object(Ze.a)(Object(Ze.a)({},e),{},{email:t.payload});case"SETNEWPROFILE":return Object(Ze.a)(Object(Ze.a)({},e),{},{yourChildren:[].concat(Object(Qe.a)(e.yourChildren),[t.payload])});case"SETPROFILES":return Object(Ze.a)(Object(Ze.a)({},e),{},{yourChildren:t.payload});case"SETCURRENTPROFILE":return Object(Ze.a)(Object(Ze.a)({},e),{},{currentProfile:t.payload});case"SETACTIVESTORY":return Object(Ze.a)(Object(Ze.a)({},e),{},{activeStory:t.payload});case"SETFRIENDEMAIL":return Object(Ze.a)(Object(Ze.a)({},e),{},{friendEmail:t.payload.email});case"LOGOUT":return He;default:return e}},Ye=Object(Z.b)({userInfo:Ve}),_e=a(257),Je=Object(Z.c)(Ye);c.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(_e.a,{children:Object(n.jsx)(Q.a,{store:Je,children:Object(n.jsx)(v.a,{children:Object(n.jsx)(Ge,{})})})})}),document.getElementById("root"))},84:function(e,t,a){}},[[213,1,2]]]);
//# sourceMappingURL=main.40f87f0e.chunk.js.map